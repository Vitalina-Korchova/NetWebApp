2025-09-21 19:37:35.022 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-21 19:38:41.785 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-21 19:39:42.722 +03:00 [ERR] An unhandled exception occurred
Npgsql.PostgresException (0x80004005): 42P01: relation "order_items" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Dapper.SqlMapper.ExecuteImplAsync(IDbConnection cnn, CommandDefinition command, Object param) in /_/Dapper/SqlMapper.Async.cs:line 662
   at Project.Dal.Repositories.Implementations.OrderItemRepository.DeleteByOrderIdAsync(Int32 orderId) in D:\study\Net\WebAplication\Project.Dal\Repositories\Implementations\OrderItemRepository.cs:line 100
   at Project.Dal.Repositories.Implementations.OrderItemRepository.DeleteByOrderIdAsync(Int32 orderId) in D:\study\Net\WebAplication\Project.Dal\Repositories\Implementations\OrderItemRepository.cs:line 100
   at OrderService.UpdateOrderAsync(Int32 orderId, UpdateOrderDto updateOrderDto, CancellationToken cancellationToken) in D:\study\Net\WebAplication\Project.Api\Services\OrderService.cs:line 113
   at OrderService.UpdateOrderAsync(Int32 orderId, UpdateOrderDto updateOrderDto, CancellationToken cancellationToken) in D:\study\Net\WebAplication\Project.Api\Services\OrderService.cs:line 132
   at Project.Api.Controllers.OrdersController.UpdateOrder(Int32 id, UpdateOrderDto updateOrderDto, CancellationToken cancellationToken) in D:\study\Net\WebAplication\Project.Api\Controllers\OrdersController.cs:line 52
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Project.Api.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\study\Net\WebAplication\Project.Api\Middleware\ExceptionHandlingMiddleware.cs:line 21
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "order_items" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
